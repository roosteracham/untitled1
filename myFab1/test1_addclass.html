<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>addClass</title>
    <script src="scripts/fabric.js"></script>
</head>
<body>
<canvas id="c"  width="800" height="600"></canvas>

<script>
    var canvas = new fabric.Canvas('c');
    var rect = new fabric.Rect({
        top:100,
        left:100,
        width:100,
        height:100,
        fill:'gray',
        tagId:'AB.CD-123'
    });

    rect.toObject = (function(toObject) {
        return function() {
            return fabric.util.object.extend(toObject.call(this), {
                tagId:this.tagId,
                tagName: this.tagName,
                tagValue:this.tagValue,

            });
        };
    })(rect.toObject);


    rect.tagId = 'AB.CD-1';
    rect.tagValue = 123.456;
    rect.tagName = '123号装置';

//    rect.tagId=1;
//    rect.top=100;
//    rect.left=50;
//    rect.width = 100;
//    rect.height=100;
//    rect.fill = 'gray';

    canvas.add(rect);

    console.log(JSON.stringify(canvas));

    var json=JSON.stringify(canvas);
    var obj = JSON.parse(json);
    console.log(obj.objects[0].tagId,obj.objects[0].tagName,obj.objects[0].tagValue);

</script>





</body>
</html>